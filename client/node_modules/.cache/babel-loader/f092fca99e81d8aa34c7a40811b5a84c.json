{"ast":null,"code":"import _classCallCheck from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Styles from'../../DashboardLayoutStyles';import firebase from'../../../../Firebase/index';import{getMMMDDYYYY}from'../../../../helpers/CalendarHelpers';var RecentTimesheet=/*#__PURE__*/function(_Component){_inherits(RecentTimesheet,_Component);function RecentTimesheet(props){var _this;_classCallCheck(this,RecentTimesheet);_this=_possibleConstructorReturn(this,_getPrototypeOf(RecentTimesheet).call(this,props));_this.state={timesheetUrl:null};return _this;}_createClass(RecentTimesheet,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var timesheet=this.props.timesheet;firebase.storage().ref().child(timesheet.filepath).getDownloadURL().then(function(url){_this2.setState({timesheetUrl:url});}).catch(function(error){console.log(\"error \".concat(error));});}},{key:\"renderSubmittedText\",value:function renderSubmittedText(date,dayText){if(date-Date.now()>-600000){return React.createElement(\"p\",null,\"Submitted: Just Now \");}if(date-Date.now()>-86400000){return React.createElement(\"p\",null,\"Submitted: Today\");}return React.createElement(\"p\",null,\"Submitted: \",dayText);}},{key:\"render\",value:function render(){var timesheet=this.props.timesheet;var timesheetUrl=this.state.timesheetUrl;var date=new Date(parseInt(timesheet.timestamp));var dayText=getMMMDDYYYY(date);return React.createElement(\"div\",{style:Styles.recentTimesheet},this.renderSubmittedText(date,dayText),React.createElement(\"p\",null,\"Days: \",timesheet.timesheetTimePeriod),React.createElement(\"a\",{style:Styles.downloadLink,href:timesheetUrl,download:true},\"Download\"));}}]);return RecentTimesheet;}(Component);export default RecentTimesheet;","map":{"version":3,"sources":["/Users/joshkardos/Desktop/JTKStaffing/src/Containers/Dashboard/Worker/RecentTimesheet/RecentTimesheet.js"],"names":["React","Component","Styles","firebase","getMMMDDYYYY","RecentTimesheet","props","state","timesheetUrl","timesheet","storage","ref","child","filepath","getDownloadURL","then","url","setState","catch","error","console","log","date","dayText","Date","now","parseInt","timestamp","recentTimesheet","renderSubmittedText","timesheetTimePeriod","downloadLink"],"mappings":"0xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,YAAT,KAA6B,qCAA7B,C,GAEMC,CAAAA,e,yEACJ,yBAAYC,KAAZ,CAAmB,iDACjB,iFAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,YAAY,CAAE,IADH,CAAb,CAFiB,aAKlB,C,yFAEmB,oBACVC,CAAAA,SADU,CACI,KAAKH,KADT,CACVG,SADU,CAElBN,QAAQ,CAACO,OAAT,GAAmBC,GAAnB,GAAyBC,KAAzB,CAA+BH,SAAS,CAACI,QAAzC,EAAmDC,cAAnD,GACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,MAAI,CAACC,QAAL,CAAc,CAAET,YAAY,CAAEQ,GAAhB,CAAd,EACD,CAHH,EAIGE,KAJH,CAIS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,iBAAqBF,KAArB,GACD,CANH,EAOD,C,gEAEmBG,I,CAAMC,O,CAAS,CACjC,GAAID,IAAI,CAAGE,IAAI,CAACC,GAAL,EAAP,CAAoB,CAAC,MAAzB,CAAiC,CAC/B,MAAO,qDAAP,CACD,CACD,GAAIH,IAAI,CAAGE,IAAI,CAACC,GAAL,EAAP,CAAoB,CAAC,QAAzB,CAAmC,CACjC,MAAO,iDAAP,CACD,CACD,MAAO,4CAAeF,OAAf,CAAP,CACD,C,uCAEQ,IACCd,CAAAA,SADD,CACe,KAAKH,KADpB,CACCG,SADD,IAECD,CAAAA,YAFD,CAEkB,KAAKD,KAFvB,CAECC,YAFD,CAGP,GAAMc,CAAAA,IAAI,CAAG,GAAIE,CAAAA,IAAJ,CAASE,QAAQ,CAACjB,SAAS,CAACkB,SAAX,CAAjB,CAAb,CACA,GAAMJ,CAAAA,OAAO,CAAGnB,YAAY,CAACkB,IAAD,CAA5B,CACA,MACE,4BAAK,KAAK,CAAEpB,MAAM,CAAC0B,eAAnB,EACI,KAAKC,mBAAL,CAAyBP,IAAzB,CAA+BC,OAA/B,CADJ,CAEE,sCAAUd,SAAS,CAACqB,mBAApB,CAFF,CAGE,yBACE,KAAK,CAAE5B,MAAM,CAAC6B,YADhB,CAEE,IAAI,CAAEvB,YAFR,CAGE,QAAQ,KAHV,aAHF,CADF,CAWD,C,6BA7C2BP,S,EAoD9B,cAAeI,CAAAA,eAAf","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Styles from '../../DashboardLayoutStyles'\nimport firebase from '../../../../Firebase/index'\nimport { getMMMDDYYYY } from '../../../../helpers/CalendarHelpers'\n\nclass RecentTimesheet extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      timesheetUrl: null\n    }\n  }\n\n  componentDidMount() {\n    const { timesheet } = this.props\n    firebase.storage().ref().child(timesheet.filepath).getDownloadURL()\n      .then(url => {\n        this.setState({ timesheetUrl: url })\n      })\n      .catch(error => {\n        console.log(`error ${error}`)\n      })\n  }\n\n  renderSubmittedText(date, dayText) {\n    if (date - Date.now() > -600000) {\n      return <p>Submitted: Just Now </p>\n    }\n    if (date - Date.now() > -86400000) {\n      return <p>Submitted: Today</p>\n    }\n    return <p>Submitted: {dayText}</p>\n  }\n\n  render() {\n    const { timesheet } = this.props\n    const { timesheetUrl } = this.state\n    const date = new Date(parseInt(timesheet.timestamp))\n    const dayText = getMMMDDYYYY(date)\n    return (\n      <div style={Styles.recentTimesheet}>\n        { this.renderSubmittedText(date, dayText)}\n        <p>Days: {timesheet.timesheetTimePeriod}</p>\n        <a\n          style={Styles.downloadLink}\n          href={timesheetUrl}\n          download\n        >Download</a>\n      </div>\n    )\n  }\n}\n\nRecentTimesheet.propTypes = {\n  timesheet: PropTypes.object.isRequired\n}\n\nexport default RecentTimesheet\n"]},"metadata":{},"sourceType":"module"}
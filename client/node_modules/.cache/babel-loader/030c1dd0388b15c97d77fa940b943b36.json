{"ast":null,"code":"import _toConsumableArray from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Styles from'../../DashboardLayoutStyles';import firebase from'../../../../Firebase/index';import AdminTimesheetTileTableCell from'./AdminTimesheetTileTableCell';var AdminTimesheetTile=/*#__PURE__*/function(_Component){_inherits(AdminTimesheetTile,_Component);function AdminTimesheetTile(props){var _this;_classCallCheck(this,AdminTimesheetTile);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdminTimesheetTile).call(this,props));_this.state={timesheets:[],hover:false};return _this;}_createClass(AdminTimesheetTile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var employee=this.props.employee;var timesheetArr=[];firebase.database().ref(\"/user-timesheets/\".concat(employee.uid)).once('value').then(function(timesheetSnapshot){if(!timesheetSnapshot.val())return;Object.keys(timesheetSnapshot.val()).map(function(key){timesheetArr=[].concat(_toConsumableArray(timesheetArr),[timesheetSnapshot.val()[key]]);// eslint-disable-next-line no-useless-return\nreturn;});_this2.setState({timesheets:timesheetArr.reverse()});});}},{key:\"renderTimesheetMessage\",value:function renderTimesheetMessage(){var timesheets=this.state.timesheets;return React.createElement(\"p\",null,timesheets.length);}},{key:\"renderTimesheetsTableData\",value:function renderTimesheetsTableData(){var timesheets=this.state.timesheets;return timesheets.map(function(timesheet){return React.createElement(AdminTimesheetTileTableCell,{timesheet:timesheet});});}},{key:\"renderHoverTable\",value:function renderHoverTable(){var timesheets=this.state.timesheets;if(timesheets.length===0)return null;return React.createElement(\"table\",{style:Styles.timesheetTileTable},React.createElement(\"thead\",{style:Styles.timesheetTileTableBodyHead},React.createElement(\"tr\",null,React.createElement(\"td\",null,\"Time Period\"),React.createElement(\"td\",null,\"Submittal Date\"),React.createElement(\"td\",null))),React.createElement(\"tbody\",{style:Styles.timesheetTileTableBody},this.renderTimesheetsTableData()));}},{key:\"render\",value:function render(){var _this3=this;var employee=this.props.employee;var hover=this.state.hover;return React.createElement(\"div\",{style:hover?Styles.adminTimesheetTileHover:Styles.adminTimesheetTile,onMouseEnter:function onMouseEnter(){return _this3.setState({hover:true});},onMouseLeave:function onMouseLeave(){return _this3.setState({hover:false});}},React.createElement(\"p\",null,employee.name),React.createElement(\"p\",null,employee.email),this.renderTimesheetMessage(),hover&&this.renderHoverTable());}}]);return AdminTimesheetTile;}(Component);export default AdminTimesheetTile;","map":{"version":3,"sources":["/Users/joshkardos/Desktop/JTKStaffing/src/Containers/Dashboard/Admin/AdminTimesheetTile/AdminTimesheetTile.js"],"names":["React","Component","Styles","firebase","AdminTimesheetTileTableCell","AdminTimesheetTile","props","state","timesheets","hover","employee","timesheetArr","database","ref","uid","once","then","timesheetSnapshot","val","Object","keys","map","key","setState","reverse","length","timesheet","timesheetTileTable","timesheetTileTableBodyHead","timesheetTileTableBody","renderTimesheetsTableData","adminTimesheetTileHover","adminTimesheetTile","name","email","renderTimesheetMessage","renderHoverTable"],"mappings":"87BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,2BAAP,KAAwC,+BAAxC,C,GAEMC,CAAAA,kB,4EACJ,4BAAYC,KAAZ,CAAmB,oDACjB,oFAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,UAAU,CAAE,EADD,CAEXC,KAAK,CAAE,KAFI,CAAb,CAFiB,aAMlB,C,4FAEmB,oBACVC,CAAAA,QADU,CACG,KAAKJ,KADR,CACVI,QADU,CAElB,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACAR,QAAQ,CAACS,QAAT,GAAoBC,GAApB,4BAA4CH,QAAQ,CAACI,GAArD,GAA4DC,IAA5D,CAAiE,OAAjE,EAA0EC,IAA1E,CAA+E,SAAAC,iBAAiB,CAAI,CAClG,GAAI,CAACA,iBAAiB,CAACC,GAAlB,EAAL,CAA8B,OAC9BC,MAAM,CAACC,IAAP,CAAYH,iBAAiB,CAACC,GAAlB,EAAZ,EAAqCG,GAArC,CAAyC,SAAAC,GAAG,CAAI,CAC9CX,YAAY,8BAAOA,YAAP,GAAqBM,iBAAiB,CAACC,GAAlB,GAAwBI,GAAxB,CAArB,EAAZ,CACA;AACA,OACD,CAJD,EAKA,MAAI,CAACC,QAAL,CAAc,CAAEf,UAAU,CAAEG,YAAY,CAACa,OAAb,EAAd,CAAd,EACD,CARD,EASD,C,uEAEwB,IACfhB,CAAAA,UADe,CACA,KAAKD,KADL,CACfC,UADe,CAEvB,MACE,8BAAIA,UAAU,CAACiB,MAAf,CADF,CAGD,C,6EAE2B,IAClBjB,CAAAA,UADkB,CACH,KAAKD,KADF,CAClBC,UADkB,CAE1B,MAAOA,CAAAA,UAAU,CAACa,GAAX,CAAe,SAAAK,SAAS,QAAI,qBAAC,2BAAD,EAA6B,SAAS,CAAEA,SAAxC,EAAJ,EAAxB,CAAP,CACD,C,2DAEkB,IACTlB,CAAAA,UADS,CACM,KAAKD,KADX,CACTC,UADS,CAEjB,GAAIA,UAAU,CAACiB,MAAX,GAAsB,CAA1B,CAA6B,MAAO,KAAP,CAC7B,MACE,8BAAO,KAAK,CAAEvB,MAAM,CAACyB,kBAArB,EACE,6BAAO,KAAK,CAAEzB,MAAM,CAAC0B,0BAArB,EACE,8BACE,4CADF,CAEE,+CAFF,CAGE,8BAHF,CADF,CADF,CAQE,6BAAO,KAAK,CAAE1B,MAAM,CAAC2B,sBAArB,EACG,KAAKC,yBAAL,EADH,CARF,CADF,CAcD,C,uCAEQ,oBACCpB,CAAAA,QADD,CACc,KAAKJ,KADnB,CACCI,QADD,IAECD,CAAAA,KAFD,CAEW,KAAKF,KAFhB,CAECE,KAFD,CAGP,MACE,4BACE,KAAK,CAAEA,KAAK,CAAGP,MAAM,CAAC6B,uBAAV,CAAoC7B,MAAM,CAAC8B,kBADzD,CAEE,YAAY,CAAE,8BAAM,CAAA,MAAI,CAACT,QAAL,CAAc,CAAEd,KAAK,CAAE,IAAT,CAAd,CAAN,EAFhB,CAGE,YAAY,CAAE,8BAAM,CAAA,MAAI,CAACc,QAAL,CAAc,CAAEd,KAAK,CAAE,KAAT,CAAd,CAAN,EAHhB,EAKE,6BAAIC,QAAQ,CAACuB,IAAb,CALF,CAME,6BAAIvB,QAAQ,CAACwB,KAAb,CANF,CAOG,KAAKC,sBAAL,EAPH,CAQI1B,KAAK,EAAI,KAAK2B,gBAAL,EARb,CADF,CAYD,C,gCArE8BnC,S,EA4EjC,cAAeI,CAAAA,kBAAf","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Styles from '../../DashboardLayoutStyles'\nimport firebase from '../../../../Firebase/index'\nimport AdminTimesheetTileTableCell from './AdminTimesheetTileTableCell'\n\nclass AdminTimesheetTile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      timesheets: [],\n      hover: false\n    }\n  }\n\n  componentDidMount() {\n    const { employee } = this.props\n    let timesheetArr = []\n    firebase.database().ref(`/user-timesheets/${employee.uid}`).once('value').then(timesheetSnapshot => {\n      if (!timesheetSnapshot.val()) return\n      Object.keys(timesheetSnapshot.val()).map(key => {\n        timesheetArr = [...timesheetArr, timesheetSnapshot.val()[key]]\n        // eslint-disable-next-line no-useless-return\n        return\n      })\n      this.setState({ timesheets: timesheetArr.reverse() })\n    })\n  }\n\n  renderTimesheetMessage() {\n    const { timesheets } = this.state\n    return (\n      <p>{timesheets.length}</p>\n    )\n  }\n\n  renderTimesheetsTableData() {\n    const { timesheets } = this.state\n    return timesheets.map(timesheet => <AdminTimesheetTileTableCell timesheet={timesheet} />)\n  }\n\n  renderHoverTable() {\n    const { timesheets } = this.state\n    if (timesheets.length === 0) return null\n    return (\n      <table style={Styles.timesheetTileTable}>\n        <thead style={Styles.timesheetTileTableBodyHead}>\n          <tr>\n            <td>Time Period</td>\n            <td>Submittal Date</td>\n            <td />\n          </tr>\n        </thead>\n        <tbody style={Styles.timesheetTileTableBody}>\n          {this.renderTimesheetsTableData()}\n        </tbody>\n      </table>\n    )\n  }\n\n  render() {\n    const { employee } = this.props\n    const { hover } = this.state\n    return (\n      <div\n        style={hover ? Styles.adminTimesheetTileHover : Styles.adminTimesheetTile}\n        onMouseEnter={() => this.setState({ hover: true })}\n        onMouseLeave={() => this.setState({ hover: false })}\n      >\n        <p>{employee.name}</p>\n        <p>{employee.email}</p>\n        {this.renderTimesheetMessage()}\n        { hover && this.renderHoverTable() }\n      </div>\n    )\n  }\n}\n\nAdminTimesheetTile.propTypes = {\n  employee: PropTypes.object.isRequired\n}\n\nexport default AdminTimesheetTile\n"]},"metadata":{},"sourceType":"module"}
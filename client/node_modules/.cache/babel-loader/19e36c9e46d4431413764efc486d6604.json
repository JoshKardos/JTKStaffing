{"ast":null,"code":"import { ofType } from 'redux-observable';\nimport { map, switchMap, mapTo } from 'rxjs/operators';\nimport { TYPES as DashboardTypes } from '../Redux/DashboardRedux';\nimport { TYPES as ErrorTypes } from '../Redux/ErrorRedux';\nimport firebase from '../Firebase/index';\nexport const uploadTimesheetEpic = (action$, state$) => action$.pipe(ofType(DashboardTypes.UPLOAD_TIMESHEET), map(action => {\n  const storageRef = firebase.storage().ref().child(state$.value.UserReducers.userReducer.id);\n  console.log(action.payload.timesheetFile);\n  return storageRef.put(new File(action.payload, action.payload.name)).then(snapshot => {\n    return {\n      type: ''\n    };\n  });\n}));\nexport const uploadCompleteEpic = action$ => action$.pipe(ofType(DashboardTypes.UPLOAD_SUCCESS, DashboardTypes.UPLOAD_ERROR), mapTo({\n  type: DashboardTypes.TIMESHEET_UPLOAD_STOP\n}));\nexport const setTimesheetFileError = action$ => action$.pipe(ofType(DashboardTypes.SET_TIMESHEET_FILE_ERROR), map(action => ({\n  type: ErrorTypes.SET_ERROR,\n  payload: action.payload\n})));\nexport default null;","map":{"version":3,"sources":["/Users/joshkardos/Desktop/JTKStaffing/src/Epics/DashboardEpics.js"],"names":["ofType","map","switchMap","mapTo","TYPES","DashboardTypes","ErrorTypes","firebase","uploadTimesheetEpic","action$","state$","pipe","UPLOAD_TIMESHEET","action","storageRef","storage","ref","child","value","UserReducers","userReducer","id","console","log","payload","timesheetFile","put","File","name","then","snapshot","type","uploadCompleteEpic","UPLOAD_SUCCESS","UPLOAD_ERROR","TIMESHEET_UPLOAD_STOP","setTimesheetFileError","SET_TIMESHEET_FILE_ERROR","SET_ERROR"],"mappings":"AAAA,SAASA,MAAT,QAAuB,kBAAvB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,SAASC,KAAK,IAAIC,cAAlB,QAAwC,yBAAxC;AACA,SAASD,KAAK,IAAIE,UAAlB,QAAoC,qBAApC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAACC,OAAD,EAAUC,MAAV,KAAqBD,OAAO,CAACE,IAAR,CACtDX,MAAM,CAACK,cAAc,CAACO,gBAAhB,CADgD,EAEtDX,GAAG,CAACY,MAAM,IAAI;AACZ,QAAMC,UAAU,GAAGP,QAAQ,CAACQ,OAAT,GAAmBC,GAAnB,GAAyBC,KAAzB,CAA+BP,MAAM,CAACQ,KAAP,CAAaC,YAAb,CAA0BC,WAA1B,CAAsCC,EAArE,CAAnB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYV,MAAM,CAACW,OAAP,CAAeC,aAA3B;AACA,SAAOX,UAAU,CAACY,GAAX,CAAe,IAAIC,IAAJ,CAASd,MAAM,CAACW,OAAhB,EAAyBX,MAAM,CAACW,OAAP,CAAeI,IAAxC,CAAf,EAA8DC,IAA9D,CAAoEC,QAAD,IAAc;AACtF,WAAO;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAP;AACD,GAFM,CAAP;AAGD,CANE,CAFmD,CAAjD;AAWP,OAAO,MAAMC,kBAAkB,GAAIvB,OAAD,IAAaA,OAAO,CAACE,IAAR,CAC7CX,MAAM,CAACK,cAAc,CAAC4B,cAAhB,EAAgC5B,cAAc,CAAC6B,YAA/C,CADuC,EAE7C/B,KAAK,CAAC;AAAE4B,EAAAA,IAAI,EAAE1B,cAAc,CAAC8B;AAAvB,CAAD,CAFwC,CAAxC;AAMP,OAAO,MAAMC,qBAAqB,GAAI3B,OAAD,IAAaA,OAAO,CAACE,IAAR,CAChDX,MAAM,CAACK,cAAc,CAACgC,wBAAhB,CAD0C,EAEhDpC,GAAG,CAAEY,MAAD,KAAa;AAAEkB,EAAAA,IAAI,EAAEzB,UAAU,CAACgC,SAAnB;AAA8Bd,EAAAA,OAAO,EAAEX,MAAM,CAACW;AAA9C,CAAb,CAAD,CAF6C,CAA3C;AAKP,eAAe,IAAf","sourcesContent":["import { ofType } from 'redux-observable'\nimport { map, switchMap, mapTo } from 'rxjs/operators';\nimport { TYPES as DashboardTypes } from '../Redux/DashboardRedux'\nimport { TYPES as ErrorTypes } from '../Redux/ErrorRedux'\nimport firebase from '../Firebase/index'\n\nexport const uploadTimesheetEpic = (action$, state$) => action$.pipe(\n  ofType(DashboardTypes.UPLOAD_TIMESHEET),\n  map(action => {\n    const storageRef = firebase.storage().ref().child(state$.value.UserReducers.userReducer.id)\n    console.log(action.payload.timesheetFile)\n    return storageRef.put(new File(action.payload, action.payload.name)).then((snapshot) => {\n      return { type: '' }\n    })\n  })\n)\n\nexport const uploadCompleteEpic = (action$) => action$.pipe(\n  ofType(DashboardTypes.UPLOAD_SUCCESS, DashboardTypes.UPLOAD_ERROR),\n  mapTo({ type: DashboardTypes.TIMESHEET_UPLOAD_STOP })\n)\n\n\nexport const setTimesheetFileError = (action$) => action$.pipe(\n  ofType(DashboardTypes.SET_TIMESHEET_FILE_ERROR),\n  map((action) => ({ type: ErrorTypes.SET_ERROR, payload: action.payload }))\n)\n\nexport default null\n"]},"metadata":{},"sourceType":"module"}
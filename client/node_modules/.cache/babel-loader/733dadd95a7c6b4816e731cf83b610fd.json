{"ast":null,"code":"import _classCallCheck from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/joshkardos/Desktop/JTKStaffing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import firebase from'../Firebase/index';import{LAYOUTS}from'../Redux/LayoutRedux';import MenuBar from'../Components/MenuBar/MenuBar';import LoginLayout from'./LogIn/LoginLayout';import SignUpLayout from'./SignUp/SignUpLayout';import DashboardLayout from'./Dashboard/DashboardLayout';import HomeLayout from'./Home/HomeLayout';import{uploadTimesheet as _uploadTimesheet,setTimesheetFileError as _setTimesheetFileError,timesheetUploadError as _timesheetUploadError,saveToDatabase as _saveToDatabase,timesheetUploadStart as _timesheetUploadStart}from'../Redux/DashboardRedux';import{signUpWorker as _signUpWorker,signUpAdmin as _signUpAdmin,setSignUpError as _setSignUpError,fetchUserData as _fetchUserData,login as _login,setLoginError as _setLoginError,userLoggedIn,adminLoggedIn}from'../Redux/UserRedux';import{resetError as _resetError}from'../Redux/ErrorRedux';import GenericErrorModal from'./GenericErrorModal';import'./MainScreenStyles.css';var MainScreen=/*#__PURE__*/function(_Component){_inherits(MainScreen,_Component);function MainScreen(){_classCallCheck(this,MainScreen);return _possibleConstructorReturn(this,_getPrototypeOf(MainScreen).apply(this,arguments));}_createClass(MainScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var fetchUserData=this.props.fetchUserData;firebase.auth().onAuthStateChanged(function(user){if(user){var action={payload:user.uid};// User is signed in.\nfetchUserData(action);}else{// No user is signed in.\n}});}},{key:\"render\",value:function render(){var _this$props=this.props,currentLayout=_this$props.currentLayout,signUpAdmin=_this$props.signUpAdmin,errorDescription=_this$props.errorDescription,resetError=_this$props.resetError,signUpLoading=_this$props.signUpLoading,setSignUpError=_this$props.setSignUpError,login=_this$props.login,loginLoading=_this$props.loginLoading,setLoginError=_this$props.setLoginError,userState=_this$props.userState,setTimesheetFileError=_this$props.setTimesheetFileError,uploadTimesheet=_this$props.uploadTimesheet,timesheetUploadStart=_this$props.timesheetUploadStart,timesheetUploadError=_this$props.timesheetUploadError,saveToDatabase=_this$props.saveToDatabase,timesheetUploading=_this$props.timesheetUploading,employees=_this$props.employees,signUpWorker=_this$props.signUpWorker,timesheets=_this$props.timesheets;var loggedIn=userLoggedIn(userState);return React.createElement(\"div\",{className:\"App\"},React.createElement(MenuBar,null),errorDescription?React.createElement(GenericErrorModal,{errorDescription:errorDescription,resetError:resetError}):null,!loggedIn&&currentLayout===LAYOUTS.HOME&&React.createElement(HomeLayout,null),loggedIn&&currentLayout===LAYOUTS.HOME&&React.createElement(DashboardLayout,{recentlySubmittedTimesheets:timesheets,isLoading:loginLoading,setSignUpError:setSignUpError,signUpWorker:signUpWorker,setTimesheetFileError:setTimesheetFileError,isAdmin:adminLoggedIn(userState),uploadTimesheet:uploadTimesheet,userState:userState,timesheetUploadStart:timesheetUploadStart,timesheetUploadError:timesheetUploadError,saveToDatabase:saveToDatabase,timesheetUploading:timesheetUploading,employees:employees}),currentLayout===LAYOUTS.LOGIN&&React.createElement(LoginLayout,{login:login,isLoading:loginLoading,setLoginError:setLoginError}),currentLayout===LAYOUTS.SIGNUP&&React.createElement(SignUpLayout,{signUpAdmin:signUpAdmin,isLoading:signUpLoading,setSignUpError:setSignUpError}));}}]);return MainScreen;}(Component);var mapStateToProps=function mapStateToProps(state){return{timesheets:state.UserReducers.userReducer.timesheets,employees:state.UserReducers.userReducer.employees,userState:state.UserReducers.userReducer,currentLayout:state.LayoutReducers.layoutReducer.currentLayout,loginLoading:state.UserReducers.userReducer.loginLoading,signUpLoading:state.UserReducers.userReducer.signUpLoading,errorDescription:state.ErrorReducers.errorReducer.errorDescription,timesheetUploading:state.DashboardReducers.dashboardReducer.uploading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(email,password){return dispatch(_login(email,password));},signUpAdmin:function signUpAdmin(name,email,password,company){return dispatch(_signUpAdmin(name,email,password,company));},signUpWorker:function signUpWorker(name,email,password){return dispatch(_signUpWorker(name,email,password));},setSignUpError:function setSignUpError(error){return dispatch(_setSignUpError(error));},setLoginError:function setLoginError(error){return dispatch(_setLoginError(error));},setTimesheetFileError:function setTimesheetFileError(error){return dispatch(_setTimesheetFileError(error));},resetError:function resetError(){return dispatch(_resetError());},fetchUserData:function fetchUserData(userId){return dispatch(_fetchUserData(userId));},uploadTimesheet:function uploadTimesheet(file){return dispatch(_uploadTimesheet(file));},saveToDatabase:function saveToDatabase(timesheetTimePeriod,filepath,id,userId,timestamp){return dispatch(_saveToDatabase(timesheetTimePeriod,filepath,id,userId,timestamp));},timesheetUploadError:function timesheetUploadError(){return dispatch(_timesheetUploadError());},timesheetUploadStart:function timesheetUploadStart(){return dispatch(_timesheetUploadStart());}};};export default connect(mapStateToProps,mapDispatchToProps)(MainScreen);// export default MainScreen","map":{"version":3,"sources":["/Users/joshkardos/Desktop/JTKStaffing/src/Containers/MainScreen.js"],"names":["React","Component","connect","firebase","LAYOUTS","MenuBar","LoginLayout","SignUpLayout","DashboardLayout","HomeLayout","uploadTimesheet","setTimesheetFileError","timesheetUploadError","saveToDatabase","timesheetUploadStart","signUpWorker","signUpAdmin","setSignUpError","fetchUserData","login","setLoginError","userLoggedIn","adminLoggedIn","resetError","GenericErrorModal","MainScreen","props","auth","onAuthStateChanged","user","action","payload","uid","currentLayout","errorDescription","signUpLoading","loginLoading","userState","timesheetUploading","employees","timesheets","loggedIn","HOME","LOGIN","SIGNUP","mapStateToProps","state","UserReducers","userReducer","LayoutReducers","layoutReducer","ErrorReducers","errorReducer","DashboardReducers","dashboardReducer","uploading","mapDispatchToProps","dispatch","email","password","name","company","error","userId","file","timesheetTimePeriod","filepath","id","timestamp"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport firebase from '../Firebase/index'\nimport { LAYOUTS } from '../Redux/LayoutRedux'\nimport MenuBar from '../Components/MenuBar/MenuBar'\nimport LoginLayout from './LogIn/LoginLayout'\nimport SignUpLayout from './SignUp/SignUpLayout'\nimport DashboardLayout from './Dashboard/DashboardLayout'\nimport HomeLayout from './Home/HomeLayout'\nimport { uploadTimesheet, setTimesheetFileError, timesheetUploadError, saveToDatabase, timesheetUploadStart } from '../Redux/DashboardRedux'\nimport { signUpWorker, signUpAdmin, setSignUpError, fetchUserData, login, setLoginError, userLoggedIn, adminLoggedIn } from '../Redux/UserRedux'\nimport { resetError } from '../Redux/ErrorRedux'\nimport GenericErrorModal from './GenericErrorModal'\nimport './MainScreenStyles.css'\n\nclass MainScreen extends Component {\n  componentDidMount() {\n    const { fetchUserData } = this.props\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        const action = {\n          payload: user.uid\n        }\n        // User is signed in.\n        fetchUserData(action)\n      } else {\n        // No user is signed in.\n      }\n    })\n  }\n\n  render() {\n    const { currentLayout, signUpAdmin, errorDescription, resetError, signUpLoading,\n      setSignUpError, login, loginLoading, setLoginError, userState, setTimesheetFileError,\n      uploadTimesheet, timesheetUploadStart, timesheetUploadError, saveToDatabase, timesheetUploading,\n      employees, signUpWorker, timesheets\n    } = this.props\n    const loggedIn = userLoggedIn(userState)\n\n    return (\n      <div className=\"App\">\n        <MenuBar />\n        { errorDescription ?\n          <GenericErrorModal errorDescription={errorDescription} resetError={resetError} /> : null }\n        { !loggedIn && currentLayout === LAYOUTS.HOME && <HomeLayout /> }\n        { loggedIn && currentLayout === LAYOUTS.HOME && <DashboardLayout recentlySubmittedTimesheets={timesheets} isLoading={loginLoading} setSignUpError={setSignUpError} signUpWorker={signUpWorker} setTimesheetFileError={setTimesheetFileError} isAdmin={adminLoggedIn(userState)} uploadTimesheet={uploadTimesheet} userState={userState} timesheetUploadStart={timesheetUploadStart} timesheetUploadError={timesheetUploadError} saveToDatabase={saveToDatabase} timesheetUploading={timesheetUploading} employees={employees} /> }\n        { currentLayout === LAYOUTS.LOGIN && <LoginLayout login={login} isLoading={loginLoading} setLoginError={setLoginError} /> }\n        { currentLayout === LAYOUTS.SIGNUP && <SignUpLayout signUpAdmin={signUpAdmin} isLoading={signUpLoading} setSignUpError={setSignUpError} /> }\n      </div>\n    )\n  }\n}\n\nMainScreen.propTypes = {\n  timesheets: PropTypes.array.isRequired,\n  employees: PropTypes.array.isRequired,\n  currentLayout: PropTypes.string.isRequired,\n  signUpAdmin: PropTypes.func.isRequired,\n  signUpWorker: PropTypes.func.isRequired,\n  errorDescription: PropTypes.string.isRequired,\n  resetError: PropTypes.func.isRequired,\n  signUpLoading: PropTypes.bool.isRequired,\n  setSignUpError: PropTypes.func.isRequired,\n  setLoginError: PropTypes.func.isRequired,\n  fetchUserData: PropTypes.func.isRequired,\n  login: PropTypes.func.isRequired,\n  loginLoading: PropTypes.bool.isRequired,\n  userState: PropTypes.object.isRequired,\n  setTimesheetFileError: PropTypes.func.isRequired,\n  uploadTimesheet: PropTypes.func.isRequired,\n  timesheetUploadError: PropTypes.func.isRequired,\n  saveToDatabase: PropTypes.func.isRequired,\n  timesheetUploadStart: PropTypes.func.isRequired,\n  timesheetUploading: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = state => ({\n  timesheets: state.UserReducers.userReducer.timesheets,\n  employees: state.UserReducers.userReducer.employees,\n  userState: state.UserReducers.userReducer,\n  currentLayout: state.LayoutReducers.layoutReducer.currentLayout,\n  loginLoading: state.UserReducers.userReducer.loginLoading,\n  signUpLoading: state.UserReducers.userReducer.signUpLoading,\n  errorDescription: state.ErrorReducers.errorReducer.errorDescription,\n  timesheetUploading: state.DashboardReducers.dashboardReducer.uploading\n})\n\nconst mapDispatchToProps = dispatch => ({\n  login: (email, password) => dispatch(login(email, password)),\n  signUpAdmin: (name, email, password, company) => dispatch(signUpAdmin(name, email, password, company)),\n  signUpWorker: (name, email, password) => dispatch(signUpWorker(name, email, password)),\n  setSignUpError: (error) => dispatch(setSignUpError(error)),\n  setLoginError: (error) => dispatch(setLoginError(error)),\n  setTimesheetFileError: (error) => dispatch(setTimesheetFileError(error)),\n  resetError: () => dispatch(resetError()),\n  fetchUserData: (userId) => dispatch(fetchUserData(userId)),\n  uploadTimesheet: (file) => dispatch(uploadTimesheet(file)),\n  saveToDatabase: (timesheetTimePeriod, filepath, id, userId, timestamp) => dispatch(saveToDatabase(timesheetTimePeriod, filepath, id, userId, timestamp)),\n  timesheetUploadError: () => dispatch(timesheetUploadError()),\n  timesheetUploadStart: () => dispatch(timesheetUploadStart())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainScreen)\n// export default MainScreen\n"]},"metadata":{},"sourceType":"module"}